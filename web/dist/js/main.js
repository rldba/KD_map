(()=>{"use strict";const e=function(e,t){let o="54.435152, 56.959736";o="56.838011,60.597474"==t?"full_65.json":"55.441004, 65.341118"==t?"full_37.json":"57.152985, 65.541227"==t?"full_71.json":"55.159902, 61.402554"==t?"full_75.json":"58.010455, 56.229443"==t?"full_57.json":"51.768205, 55.096964"==t?"full_53.json":"full_80.json",$.ajax({url:o}).done((function(t){e.removeAll(),e.add(t)}))},t=function(e,t,o){const n=document.querySelector(".border1"),s=document.querySelector(".border2"),l=document.querySelector(".border3");1==t?(n.style.cssText="top: 13px; transform: rotate(-45deg);",s.style.cssText="transform: rotate(45deg);",l.style.cssText="top: 13px; transform: rotate(45deg);",o.style.cssText="visibility: visible; top: 0; left: 0;"):(n.style.cssText="top: 4px; transform: none;",s.style.cssText="transform: none;",l.style.cssText="top: 22px; transform: none;",o.style.cssText="visibility: hidden; top: -100%;"),e.objects.balloon.close()},o=function(o,n){const s=document.querySelector(".menu__btn"),l=document.querySelector(".sidenav");s.innerHTML="\n        <span class='border1'></span>\n        <span class='border2'></span>\n        <span class='border3'></span> \n        ",function(e){const t={"Офис банка (в т.ч. мобильный офис)":!0,"Удаленная точка банк. обслуживания":!0,"Банкомат для операций с банк. картами, наличными и совершения безналичных платежей":!0,"Устройство (банкомат) для операций по приему наличных":!0,"Банковские услуги в отделениях Почты России":!0,"Точка выдачи наличных в магазине":!0,"Точка оплаты наличными":!0,"Микрофинансовая организация":!0,"Страховая организация":!0},o=document.querySelector(".name_list");let n=!1;const s=document.querySelector(".filter_container"),l=document.createElement("span");l.classList.add("triangle"),o.append(l),s.innerHTML="\n    <nav class='menu_header'>\n    <ul class='menu__list'>\n        <li class='menu__item'></li>\n    </ul>\n    </nav>",o.addEventListener("click",(o=>{n=0==n,l.style.cssText=1==n?"bottom: 5px; transform: rotate(180deg);":"transform: none",(()=>{if(1==n)for(let o in t){const n=document.querySelector(".menu__item"),s=document.createElement("a");s.classList.add("menu__link"),s.textContent=`${o}`,n.append(s);const l=document.createElement("span");l.classList.add("icon"),"Офис банка (в т.ч. мобильный офис)"==o&&(l.style.cssText="border: 7px solid rgb(181 30 255);"),"Удаленная точка банк. обслуживания"==o&&(l.style.cssText="border: 7px solid rgb(89 89 89);"),"Банкомат для операций с банк. картами, наличными и совершения безналичных платежей"==o&&(l.style.cssText="border: 7px solid rgb(17 175 40);"),"Устройство (банкомат) для операций по приему наличных"==o&&(l.style.cssText="border: 7px solid rgb(82 221 81);"),"Банковские услуги в отделениях Почты России"==o&&(l.style.cssText="border: 7px solid rgb(16 121 198);"),"Точка выдачи наличных в магазине"==o&&(l.style.cssText="border: 7px solid rgb(238 67 68);"),"Точка оплаты наличными"==o&&(l.style.cssText="border: 7px solid rgb(255 210 30);"),"Микрофинансовая организация"==o&&(l.style.cssText="border: 7px solid rgb(244 109 206);"),"Страховая организация"==o&&(l.style.cssText="border: 7px solid rgb(231 118 39);"),s.append(l),1==t[o]?s.classList.add("active"):s.classList.remove("active"),s.addEventListener("click",(n=>{var l;1==t[o]?t[o]=!1:t[o]=!0,1==t[o]?s.classList.add("active"):s.classList.remove("active"),e.setFilter((l=t,function(e){let t=e.properties.typeObject;return l[t]}))}))}else document.querySelectorAll(".menu__link").forEach((e=>{e.remove()}))})()}))}(o),function(o,n,s,l,r){e(o);let a=[{id:1,name:"Уральское ГУ",oblast:[{id:343,name:"Уральское главное управление",locate:"56.838011,60.597474"},{id:3472,name:"Отделение-НБ Республика Башкортостан",locate:"54.735152,55.958736"},{id:3522,name:"Отделение Курган",locate:"55.441004, 65.341118"},{id:71,name:"Отделение Тюмень",locate:"57.152985, 65.541227"},{id:75,name:"Отделение Челябинск",locate:"55.159902, 61.402554"},{id:57,name:"Отделение Пермь",locate:"58.010455, 56.229443"},{id:53,name:"Отделение Оренбург",locate:"51.768205, 55.096964"}]}];r.addEventListener("click",(e=>{t(o,l=0==l,s)})),a.forEach((r=>{const a=document.querySelector(".menu__body_list");let c=document.createElement("li");c.classList.add("title_region_menu"),a.append(c);let i=document.createElement("a");i.classList.add("menu_regions_title"),i.textContent=`${r.name}`,c.append(i);let d=document.createElement("ul");d.classList.add("dropdown-container"),c.append(d),r.oblast.forEach((r=>{let a=document.createElement("li");a.classList.add("dropdown-list"),d.append(a);let c=document.createElement("a");c.classList.add("dropdown-link"),c.textContent=`${r.name}`,a.append(c),c.addEventListener("click",(a=>{let c=r.locate.indexOf(","),i=parseFloat(r.locate.slice(0,c)),d=parseFloat(r.locate.slice(c+1));n.setCenter([i,d],10,{checkZoomRange:!0,duration:200}),setTimeout(e,450,o,r.locate),t(o,l=!1,s)}))}))})),a.find((e=>1==e.id)).oblast;const c=document.querySelectorAll(".menu_regions_title"),i=document.querySelectorAll(".dropdown-container");c.forEach(((e,t)=>{e.addEventListener("click",(o=>{o.preventDefault(),"menu_regions_title"===e.className?e.classList.add("active"):e.classList.remove("active"),i[t].classList.toggle("open")}))}))}(o,n,l,!1,s)};ymaps.ready((function(){var e=new ymaps.Map("kd-map",{center:[54.721094,55.941875],zoom:12},{searchControlProvider:"yandex#search"}),t=new ymaps.ObjectManager({clusterize:!0,gridSize:100,clusterDisableClickZoom:!0,clusterHideIconOnBalloonOpen:!1,clusterIconLayout:"default#pieChart",clusterBalloonContentLayout:"cluster#balloonCarousel"});o(t,e),e.controls.remove("trafficControl"),e.controls.remove("rulerControl"),e.controls.remove("searchControl"),e.controls.remove("geolocationControl"),e.controls.remove("zoomControl"),e.controls.remove("fullscreenControl"),e.controls.remove("listBox"),e.geoObjects.add(t);let n=new ymaps.control.SearchControl({options:{size:"large",position:{top:70,right:10}}});e.controls.add(n);let s=new ymaps.control.GeolocationControl({options:{position:{right:25,bottom:350}}});e.controls.add(s);let l=new ymaps.control.ZoomControl({options:{size:"small",position:{right:25,bottom:250}}});e.controls.add(l),e.events.add("click",(t=>{e.balloon.close()}));const r=Promise.resolve(3);if(console.log(r),/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(t.options.set({balloonPanelMaxMapArea:"Infinity"}),e.options.set({balloonPanelMaxMapArea:"Infinity"}),window.outerWidth<380)){let e=document.querySelector(".name-project");e.innerHTML="Карта доступности <br>финансовых услуг</br>",e.style.cssText="padding: 14px 5px 0 0;"}}))})();