ymaps.ready((function(){var e=ymaps.geolocation,t=new ymaps.Map("kd-map",{center:[54.435152,56.959736],zoom:7},{searchControlProvider:"yandex#search"});objectManager=new ymaps.ObjectManager({clusterize:!0,gridSize:100,clusterDisableClickZoom:!0,clusterHideIconOnBalloonOpen:!1,clusterIconLayout:"default#pieChart"}),g();const o=document.createElement("button");o.classList.add("geoBtn"),document.querySelector("#kd-map").append(o);const n=document.createElement("span");n.classList.add("label"),o.append(n),t.controls.remove("trafficControl"),t.controls.remove("rulerControl"),t.controls.remove("searchControl"),t.controls.remove("zoomControl"),t.controls.remove("fullscreenControl"),t.controls.remove("listBox"),t.geoObjects.add(objectManager),o.addEventListener("click",(o=>{e.get({provider:"browser",mapStateAutoApply:!0}).then((function(e){e.geoObjects.options.set("preset","islands#blueCircleIcon"),t.geoObjects.add(e.geoObjects)}))}));let s=new ymaps.control.ZoomControl({options:{size:"small",position:{right:25,bottom:250}}});t.controls.add(s);let r=[{id:1,name:"Уральское ГУ",oblast:[{id:343,name:"Уральское главное управление",locate:"56.838011,60.597474"},{id:3472,name:"Отделение-НБ Республика Башкортостан",locate:"54.735152,55.958736"}]}];const l={"Офис банка (в т.ч. передвижной пункт)":!0,"Удаленная точка банк. обслуживания":!0,"Банкомат для операций с банк. картами, наличными и совершения безналичных платежей":!0,"Банкомат для операций с наличными":!0,"Банковские услуги в отделениях Почты России":!0,"Точка выдачи наличных в магазине":!0,"Точка оплаты наличными":!0,"Микрофинансовая организация":!0,"Страховая организация":!0},a=document.querySelector(".menu__btn"),c=document.querySelector(".sidenav");let d=!1,i=!1;const m=document.querySelector(".name_list"),p=document.querySelector(".filter_container");a.innerHTML="\n    <span class='border1'></span>\n    <span class='border2'></span>\n    <span class='border3'></span> \n    ";const u=()=>{const e=document.querySelector(".border1"),t=document.querySelector(".border2"),o=document.querySelector(".border3");1==i?(e.style.cssText="top: 13px; transform: rotate(-45deg);",t.style.cssText="transform: rotate(45deg);",o.style.cssText="top: 13px; transform: rotate(45deg);",c.style.cssText="visibility: visible; top: 0; left: 0;"):(e.style.cssText="top: 4px; transform: none;",t.style.cssText="transform: none;",o.style.cssText="top: 22px; transform: none;",c.style.cssText="visibility: hidden; top: -100%;")};a.addEventListener("click",(e=>{i=0==i,u(),objectManager.objects.balloon.close()}));const b=document.createElement("span");b.classList.add("triangle"),m.append(b),p.innerHTML="\n    <nav class='menu_header'>\n        <ul class='menu__list'>\n            <li class='menu__item'></li>\n        </ul>\n    </nav>",m.addEventListener("click",(e=>{d=0==d,b.style.cssText=1==d?"bottom: 5px; transform: rotate(180deg);":"transform: none",(()=>{if(1==d)for(let e in l){const t=document.querySelector(".menu__item"),o=document.createElement("a");o.classList.add("menu__link"),o.textContent=`${e}`,t.append(o);const n=document.createElement("span");n.classList.add("icon"),"Офис банка (в т.ч. передвижной пункт)"==e&&(n.style.cssText="border: 7px solid rgb(11 70 119);"),"Удаленная точка банк. обслуживания"==e&&(n.style.cssText="border: 7px solid rgb(89 89 89);"),"Банкомат для операций с банк. картами, наличными и совершения безналичных платежей"==e&&(n.style.cssText="border: 7px solid rgb(17 175 40);"),"Банкомат для операций с наличными"==e&&(n.style.cssText="border: 7px solid rgb(82 221 81);"),"Банковские услуги в отделениях Почты России"==e&&(n.style.cssText="border: 7px solid rgb(16 121 198);"),"Точка выдачи наличных в магазине"==e&&(n.style.cssText="border: 7px solid rgb(238 67 68);"),"Точка оплаты наличными"==e&&(n.style.cssText="border: 7px solid rgb(151 162 36);"),"Микрофинансовая организация"==e&&(n.style.cssText="border: 7px solid rgb(244 109 206);"),"Страховая организация"==e&&(n.style.cssText="border: 7px solid rgb(231 118 39);"),o.append(n),1==l[e]?o.classList.add("active"):o.classList.remove("active"),o.addEventListener("click",(t=>{var n;1==l[e]?l[e]=!1:l[e]=!0,1==l[e]?o.classList.add("active"):o.classList.remove("active"),objectManager.setFilter((n=l,function(e){let t=e.properties.typeObject;return n[t]}))}))}else document.querySelectorAll(".menu__link").forEach((e=>{e.remove()}))})()})),r.forEach((e=>{const o=document.querySelector(".menu__body_list");let n=document.createElement("li");n.classList.add("title_region_menu"),o.append(n);let s=document.createElement("a");s.classList.add("menu_regions_title"),s.textContent=`${e.name}`,n.append(s);let r=document.createElement("ul");r.classList.add("dropdown-container"),n.append(r),e.oblast.forEach((e=>{let o=document.createElement("li");o.classList.add("dropdown-list"),r.append(o);let n=document.createElement("a");n.classList.add("dropdown-link"),n.textContent=`${e.name}`,o.append(n),n.addEventListener("click",(o=>{let n=e.locate.indexOf(","),s=parseFloat(e.locate.slice(0,n)),r=parseFloat(e.locate.slice(n+1));t.setCenter([s,r],10,{checkZoomRange:!0,duration:200}),setTimeout(g,450,e.locate),i=!1,u()}))}))})),r.find((e=>1==e.id)).oblast;const y=document.querySelectorAll(".menu_regions_title"),x=document.querySelectorAll(".dropdown-container");function g(e){let t="54.435152, 56.959736";t="56.838011,60.597474"==e?"full_65.json":"full_80.json",$.ajax({url:t}).done((function(e){objectManager.removeAll(),objectManager.add(e)}))}y.forEach(((e,t)=>{e.addEventListener("click",(o=>{o.preventDefault(),"menu_regions_title"===e.className?e.classList.add("active"):e.classList.remove("active"),x[t].classList.toggle("open")}))})),t.events.add("click",(e=>{t.balloon.close()}));const v=Promise.resolve(3);if(console.log(v),/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(objectManager.options.set({balloonPanelMaxMapArea:"Infinity"}),t.options.set({balloonPanelMaxMapArea:"Infinity"}),window.outerWidth<380)){let e=document.querySelector(".name-project");e.innerHTML="Карта доступности <br>финансовых услуг</br>",e.style.cssText="padding: 14px 5px 0 0;"}}));